
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../GOSSIP/">
      
      
        <link rel="next" href="../consensus/">
      
      <link rel="icon" href="../favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.9">
    
    
      
        <title>Sync - æternity Protocol</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0d440cfe.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="pink">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sync" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="æternity Protocol" class="md-header__button md-logo" aria-label="æternity Protocol" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            æternity Protocol
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Sync
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="pink"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/aeternity/protocol" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="æternity Protocol" class="md-nav__button md-logo" aria-label="æternity Protocol" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    æternity Protocol
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aeternity/protocol" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Communication
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Communication
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../GOSSIP/" class="md-nav__link">
        Gossip
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Sync
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Sync
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#transport-protocol" class="md-nav__link">
    Transport protocol
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#peer-to-peer-network" class="md-nav__link">
    Peer to peer network
  </a>
  
    <nav class="md-nav" aria-label="Peer to peer network">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bootstrapping" class="md-nav__link">
    Bootstrapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#neighbour-selection" class="md-nav__link">
    Neighbour selection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#routing" class="md-nav__link">
    Routing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#churn" class="md-nav__link">
    Churn
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connection" class="md-nav__link">
    Connection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#incentives" class="md-nav__link">
    Incentives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#blocktransaction-synchronization" class="md-nav__link">
    Block/Transaction Synchronization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#blocktransaction-propagation" class="md-nav__link">
    Block/Transaction Propagation
  </a>
  
    <nav class="md-nav" aria-label="Block/Transaction Propagation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proof-of-work-puzzle" class="md-nav__link">
    Proof of work puzzle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reputation" class="md-nav__link">
    Reputation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurables" class="md-nav__link">
    Configurables
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Consensus
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Consensus
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../consensus/" class="md-nav__link">
        General
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../consensus/bitcoin-ng/" class="md-nav__link">
        Bitcoin-NG
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../consensus/coinbase/" class="md-nav__link">
        Coinbase
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../consensus/locking/" class="md-nav__link">
        Locking
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Features
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Features
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../generalized_accounts/" class="md-nav__link">
        Generalized Accounts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../AENS/" class="md-nav__link">
        Naming System
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
      
      
      
        <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
          Oracles
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Oracles
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../oracles/" class="md-nav__link">
        General
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../oracles/oracle_life_cycle/" class="md-nav__link">
        Lifecycle Examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../oracles/oracle_state_tree/" class="md-nav__link">
        State Tree
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../oracles/oracle_transactions/" class="md-nav__link">
        Transactions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
          Smart Contracts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Smart Contracts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/" class="md-nav__link">
        General
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/events/" class="md-nav__link">
        Events
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/contract_transactions/" class="md-nav__link">
        Transaction Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/contract_state_tree/" class="md-nav__link">
        State Tree
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_5" >
      
      
      
        <label class="md-nav__link" for="__nav_4_4_5" id="__nav_4_4_5_label" tabindex="0">
          Virtual Machines
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4_5">
          <span class="md-nav__icon md-icon"></span>
          Virtual Machines
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/contract_vms/" class="md-nav__link">
        General
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/aevm/" class="md-nav__link">
        AEVM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../contracts/fate/" class="md-nav__link">
        FATE VM
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
      
      
      
        <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
          State Channels
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          State Channels
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../channels/" class="md-nav__link">
        General
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../channels/ON-CHAIN/" class="md-nav__link">
        On-Chain Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../channels/OFF-CHAIN/" class="md-nav__link">
        Off-Chain Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../channels/state/" class="md-nav__link">
        Off-Chain State
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Node API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Node API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/" class="md-nav__link">
        General
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/api_encoding/" class="md-nav__link">
        Encoding
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
      
      
      
        <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
          API Usage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          API Usage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/account_api_usage/" class="md-nav__link">
        Account API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/channels_api_usage/" class="md-nav__link">
        Channels API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/contract_api_usage/" class="md-nav__link">
        Contract API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/mining_api_usage/" class="md-nav__link">
        Mining API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/naming_system_api_usage/" class="md-nav__link">
        Naming System API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/oracle_api_usage/" class="md-nav__link">
        Oracle API
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/spend_api_usage/" class="md-nav__link">
        Spend API
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
          State Channels
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          State Channels
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/channel_ws_api/" class="md-nav__link">
        WebSocket API
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2" id="__nav_5_4_2_label" tabindex="0">
          Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/" class="md-nav__link">
        General
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2_2" id="__nav_5_4_2_2_label" tabindex="0">
          JSON-RPC
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_4_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2_2">
          <span class="md-nav__icon md-icon"></span>
          JSON-RPC
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2_2_1" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2_2_1" id="__nav_5_4_2_2_1_label" tabindex="0">
          Abort Updates
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_5_4_2_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2_2_1">
          <span class="md-nav__icon md-icon"></span>
          Abort Updates
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/abort_updates/sc_ws_abort_deposit/" class="md-nav__link">
        abort_deposit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/abort_updates/sc_ws_abort_offchain_update/" class="md-nav__link">
        abort_offchain_update
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/abort_updates/sc_ws_abort_settle/" class="md-nav__link">
        abort_settle
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/abort_updates/sc_ws_abort_shutdown/" class="md-nav__link">
        abort_shutdown
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/abort_updates/sc_ws_abort_slash/" class="md-nav__link">
        abort_slash
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/abort_updates/sc_ws_abort_snapshot_solo/" class="md-nav__link">
        abort_snapshot_solo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/abort_updates/sc_ws_abort_withdraw/" class="md-nav__link">
        abort_withdraw
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/abort_updates/sc_ws_can_not_abort_while_open/" class="md-nav__link">
        can_not_abort_while_open
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2_2_2" id="__nav_5_4_2_2_2_label" tabindex="0">
          Assume Min Depth
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_5_4_2_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2_2_2">
          <span class="md-nav__icon md-icon"></span>
          Assume Min Depth
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/assume_min_depth/sc_ws_basic_open_close/" class="md-nav__link">
        basic_open_close
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2_2_3" id="__nav_5_4_2_2_3_label" tabindex="0">
          Both Sign
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_5_4_2_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2_2_3">
          <span class="md-nav__icon md-icon"></span>
          Both Sign
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/both_sign/init_per_group/" class="md-nav__link">
        init_per_group
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2_2_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2_2_3_2" id="__nav_5_4_2_2_3_2_label" tabindex="0">
          conflicts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="6" aria-labelledby="__nav_5_4_2_2_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2_2_3_2">
          <span class="md-nav__icon md-icon"></span>
          conflicts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/both_sign/conflicts/sc_ws_conflict_deposit_and_offchain_update/" class="md-nav__link">
        conflict_deposit_and_offchain_update
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/both_sign/conflicts/sc_ws_conflict_two_deposits/" class="md-nav__link">
        conflict_two_deposits
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/both_sign/conflicts/sc_ws_conflict_two_offchain_updates/" class="md-nav__link">
        conflict_two_offchain_updates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/both_sign/conflicts/sc_ws_conflict_two_withdrawals/" class="md-nav__link">
        conflict_two_withdrawals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/both_sign/conflicts/sc_ws_conflict_withdrawal_and_deposit/" class="md-nav__link">
        conflict_withdrawal_and_deposit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/both_sign/conflicts/sc_ws_conflict_withdrawal_and_offchain_update/" class="md-nav__link">
        conflict_withdrawal_and_offchain_update
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2_2_4" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2_2_4" id="__nav_5_4_2_2_4_label" tabindex="0">
          Changeable Fee
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_5_4_2_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2_2_4">
          <span class="md-nav__icon md-icon"></span>
          Changeable Fee
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/changeable_fee/sc_ws_set_fee_close_mutual/" class="md-nav__link">
        set_fee_close_mutual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/changeable_fee/sc_ws_set_fee_close_solo/" class="md-nav__link">
        set_fee_close_solo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/changeable_fee/sc_ws_set_fee_create/" class="md-nav__link">
        set_fee_create
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/changeable_fee/sc_ws_set_fee_deposit/" class="md-nav__link">
        set_fee_deposit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/changeable_fee/sc_ws_set_fee_settle/" class="md-nav__link">
        set_fee_settle
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/changeable_fee/sc_ws_set_fee_slash/" class="md-nav__link">
        set_fee_slash
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/changeable_fee/sc_ws_set_fee_snapshot/" class="md-nav__link">
        set_fee_snapshot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/changeable_fee/sc_ws_set_fee_withdrawal/" class="md-nav__link">
        set_fee_withdrawal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2_2_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2_2_5" id="__nav_5_4_2_2_5_label" tabindex="0">
          Continuous
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_5_4_2_2_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2_2_5">
          <span class="md-nav__icon md-icon"></span>
          Continuous
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/continuous/init_per_group/" class="md-nav__link">
        init_per_group
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/continuous/sc_ws_deposit/" class="md-nav__link">
        deposit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/continuous/sc_ws_failed_update/" class="md-nav__link">
        failed_update
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/continuous/sc_ws_generic_messages/" class="md-nav__link">
        generic_messages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/continuous/sc_ws_ping_pong/" class="md-nav__link">
        ping_pong
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/continuous/sc_ws_update_conflict/" class="md-nav__link">
        update_conflict
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/continuous/sc_ws_withdraw/" class="md-nav__link">
        withdraw
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2_2_6" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2_2_6" id="__nav_5_4_2_2_6_label" tabindex="0">
          Contracts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_5_4_2_2_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2_2_6">
          <span class="md-nav__icon md-icon"></span>
          Contracts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/contracts/init_per_group/" class="md-nav__link">
        init_per_group
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/contracts/sc_ws_basic_contracts/" class="md-nav__link">
        basic_contract
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/contracts/sc_ws_environment_contract/" class="md-nav__link">
        environment_contract
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/contracts/sc_ws_nameservice_contract/" class="md-nav__link">
        nameservice_contract
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/contracts/sc_ws_oracle_contract/" class="md-nav__link">
        oracle_contract
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/contracts/sc_ws_remote_call_contract/" class="md-nav__link">
        remote_call_contract
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/contracts/sc_ws_remote_call_contract_refering_onchain_data/" class="md-nav__link">
        remote_call_contract_refering_onchain_data
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/contracts/sc_ws_wrong_call_data/" class="md-nav__link">
        wrong_call_data
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2_2_7" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2_2_7" id="__nav_5_4_2_2_7_label" tabindex="0">
          Force Progress
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_5_4_2_2_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2_2_7">
          <span class="md-nav__icon md-icon"></span>
          Force Progress
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/force_progress/sc_ws_force_progress_based_on_offchain_state/" class="md-nav__link">
        force_progress_based_on_offchain_state
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/force_progress/sc_ws_force_progress_based_on_onchain_state/" class="md-nav__link">
        force_progress_based_on_onchain_state
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2_2_8" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2_2_8" id="__nav_5_4_2_2_8_label" tabindex="0">
          Generalized Accounts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_5_4_2_2_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2_2_8">
          <span class="md-nav__icon md-icon"></span>
          Generalized Accounts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2_2_8_1" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2_2_8_1" id="__nav_5_4_2_2_8_1_label" tabindex="0">
          both
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="6" aria-labelledby="__nav_5_4_2_2_8_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2_2_8_1">
          <span class="md-nav__icon md-icon"></span>
          both
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/generalized_accounts/both/sc_ws_basic_open_close/" class="md-nav__link">
        basic_open_close
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2_2_8_2" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2_2_8_2" id="__nav_5_4_2_2_8_2_label" tabindex="0">
          initiator
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="6" aria-labelledby="__nav_5_4_2_2_8_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2_2_8_2">
          <span class="md-nav__icon md-icon"></span>
          initiator
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/generalized_accounts/initiator/sc_ws_basic_open_close/" class="md-nav__link">
        basic_open_close
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2_2_8_3" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2_2_8_3" id="__nav_5_4_2_2_8_3_label" tabindex="0">
          responder
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="6" aria-labelledby="__nav_5_4_2_2_8_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2_2_8_3">
          <span class="md-nav__icon md-icon"></span>
          responder
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/generalized_accounts/responder/sc_ws_basic_open_close/" class="md-nav__link">
        basic_open_close
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2_2_9" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2_2_9" id="__nav_5_4_2_2_9_label" tabindex="0">
          Only One Signs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_5_4_2_2_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2_2_9">
          <span class="md-nav__icon md-icon"></span>
          Only One Signs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/only_one_signs/init_per_group/" class="md-nav__link">
        init_per_group
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/only_one_signs/sc_ws_conflict_on_new_offchain/" class="md-nav__link">
        conflict_on_new_offchain
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/only_one_signs/sc_ws_conflict_snapshot_and_offchain_update/" class="md-nav__link">
        sc_ws_conflict_snapshot_and_offchain_update
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2_2_9_4" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2_2_9_4" id="__nav_5_4_2_2_9_4_label" tabindex="0">
          conflicts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="6" aria-labelledby="__nav_5_4_2_2_9_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2_2_9_4">
          <span class="md-nav__icon md-icon"></span>
          conflicts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/only_one_signs/conflicts/sc_ws_conflict_deposit_and_offchain_update/" class="md-nav__link">
        conflict_deposit_and_offchain_update
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/only_one_signs/conflicts/sc_ws_conflict_two_deposits/" class="md-nav__link">
        conflict_two_deposits
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/only_one_signs/conflicts/sc_ws_conflict_two_offchain_updates/" class="md-nav__link">
        conflict_two_offchain_updates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/only_one_signs/conflicts/sc_ws_conflict_two_withdrawals/" class="md-nav__link">
        conflict_two_withdrawals
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/only_one_signs/conflicts/sc_ws_conflict_withdrawal_and_deposit/" class="md-nav__link">
        conflict_withdrawal_and_deposit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/only_one_signs/conflicts/sc_ws_conflict_withdrawal_and_offchain_update/" class="md-nav__link">
        conflict_withdrawal_and_offchain_update
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2_2_10" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2_2_10" id="__nav_5_4_2_2_10_label" tabindex="0">
          Reconnect
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_5_4_2_2_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2_2_10">
          <span class="md-nav__icon md-icon"></span>
          Reconnect
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/reconnect/sc_ws_basic_client_reconnect_i/" class="md-nav__link">
        basic_client_reconnect_i
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/reconnect/sc_ws_basic_client_reconnect_i_w_reestablish/" class="md-nav__link">
        basic_client_reconnect_i_w_reestablish
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/reconnect/sc_ws_basic_client_reconnect_r/" class="md-nav__link">
        basic_client_reconnect_r
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4_2_2_11" >
      
      
      
        <label class="md-nav__link" for="__nav_5_4_2_2_11" id="__nav_5_4_2_2_11_label" tabindex="0">
          With Meta
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_5_4_2_2_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_4_2_2_11">
          <span class="md-nav__icon md-icon"></span>
          With Meta
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/with_meta/init_per_group/" class="md-nav__link">
        init_per_group
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/with_meta/sc_ws_deposit/" class="md-nav__link">
        deposit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/with_meta/sc_ws_remote_call_contract/" class="md-nav__link">
        remote_call_contract
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/with_meta/sc_ws_withdraw/" class="md-nav__link">
        withdraw
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/sc_ws_basic_open_close_server/" class="md-nav__link">
        basic_open_close
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/sc_ws_basic_open_close/" class="md-nav__link">
        basic_open_close_server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/sc_ws_broken_open_params/" class="md-nav__link">
        broken_open_params
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/sc_ws_close_mutual/" class="md-nav__link">
        close_mutual
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/sc_ws_close_solo/" class="md-nav__link">
        close_solo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/sc_ws_leave_reconnect/" class="md-nav__link">
        leave_reconnect
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/sc_ws_leave_reestablish/" class="md-nav__link">
        leave_reestablish
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/sc_ws_leave_reestablish_responder_stays/" class="md-nav__link">
        leave_reestablish_responder_stays
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/sc_ws_leave_reestablish_wrong_fsm_id/" class="md-nav__link">
        leave_reestablish_wrong_fsm_id
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/sc_ws_min_depth_is_modifiable/" class="md-nav__link">
        min_depth_is_modifiable
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/sc_ws_min_depth_not_reached_timeout/" class="md-nav__link">
        min_depth_not_reached_timeout
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/sc_ws_opening_ping_pong/" class="md-nav__link">
        opening_ping_pong
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/sc_ws_reconnect_early/" class="md-nav__link">
        reconnect_early
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/sc_ws_slash/" class="md-nav__link">
        slash
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/sc_ws_snapshot_solo/" class="md-nav__link">
        snapshot_solo
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/sc_ws_timeout_open/" class="md-nav__link">
        timeout_open
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/api/examples/channels/json-rpc/sc_ws_update_with_meta/" class="md-nav__link">
        update_with_meta
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Mining
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Mining
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../STRATUM/" class="md-nav__link">
        Stratum
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../serializations/" class="md-nav__link">
        Serializations
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#transport-protocol" class="md-nav__link">
    Transport protocol
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#peer-to-peer-network" class="md-nav__link">
    Peer to peer network
  </a>
  
    <nav class="md-nav" aria-label="Peer to peer network">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bootstrapping" class="md-nav__link">
    Bootstrapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#neighbour-selection" class="md-nav__link">
    Neighbour selection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#routing" class="md-nav__link">
    Routing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#churn" class="md-nav__link">
    Churn
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connection" class="md-nav__link">
    Connection
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#incentives" class="md-nav__link">
    Incentives
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#blocktransaction-synchronization" class="md-nav__link">
    Block/Transaction Synchronization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#blocktransaction-propagation" class="md-nav__link">
    Block/Transaction Propagation
  </a>
  
    <nav class="md-nav" aria-label="Block/Transaction Propagation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proof-of-work-puzzle" class="md-nav__link">
    Proof of work puzzle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reputation" class="md-nav__link">
    Reputation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurables" class="md-nav__link">
    Configurables
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



<h1 id="sync">Sync</h1>
<p>The most basic building block of any blockchain is a ledger to keep track of
state transitions. If all we care about is keeping this ledger on our local
machine, then there's not much more we have to do, but things tend to be more
interesting whenever there are more parties involved. As soon as there are
multiple parties involved, a distributed ledger is needed, which requires us to
communicate with others and exchange information about state transitions in
order to synchronise their local state machines.</p>
<p>This document describes how a set of peers can exchange information about state
transitions in a settings where peers might not trust each other or could
possibly even be acting maliciously.</p>
<p>With that in mind, we're going to have to come up with a protocol that minimises
attack surface while not (significantly) hampering the speed with which
information is disseminated in the network.</p>
<p>There are a couple of dimensions along which we can tune our protocol:</p>
<ul>
<li>network bandwidth usage</li>
<li>network latency for transaction/block propagation</li>
<li>reliability (in the presence of adversaries)</li>
<li>memory/CPU usage</li>
</ul>
<p>but as is almost always the case, we cannot have the best of all of them.</p>
<p>Ideally, our protocol has knobs which let users configure it to fit their needs,
e.g. a node running on a mobile phone might want to reduce bandwidth at the cost
of increased latency or on the other side of the spectrum a strong node might
elect to reduce latency by using more network bandwidth and increased CPU usage.</p>
<h2 id="transport-protocol">Transport protocol</h2>
<p>This initial version is going to have nodes using TCP connections. All
communication will be encrypted and authenticated to ensure both confidentiality
and integrity, which prevents adversaries from interfering with the protocol
and de-anonymisation of nodes to a degree.</p>
<p>For encryption and authentication we are going to use the <a href="https://noiseprotocol.org/">Noise
protocol</a>, with the exact protocol name being
<code>Noise_XK_25519_ChaChaPoly_Blake2b</code>, i.e. <code>XK</code> for handshakes, DH over
<code>Curve25519</code>, <code>ChaChaPoly</code> for symmetric encryption and the <code>Blake2b</code> hash
function. <a href="https://noiseexplorer.com/patterns/XK/"><code>XK</code> as a handshake pattern</a>
means that the initiator of the handshake sends their static key to
the responder and the initiator knows the static keyof the responder.</p>
<p>Each node has a static <code>Curve25519</code> key pair for P2P communication. The peer
discovery is bootstrapped by having a set of æternity peer addresses in the
node configuration and the node tries to connect to these peers after starting
up the node. Peer addresses looks like:
<code>aenode://pp_ttZZwTS2nzxg7pnEeFMWeRCfdvdxeRu6SgVyeALZX3LbdeiWS@31.13.249.0:3015</code>.</p>
<p>(<strong><em>TODO</em></strong>: Spell out the full protocol including key schedule etc.)</p>
<h2 id="peer-to-peer-network">Peer to peer network</h2>
<p>(<strong><em>TODO</em></strong>: this should probably be the overarching topic for this document and sync being a sub topic)</p>
<p>Given that all nodes participating in the network are going to hold all
available data, there is no need to have a structured overlay network.</p>
<p>An overview of the P2P-message protocol is <a href="p2p_messages/">here</a>.</p>
<h3 id="bootstrapping">Bootstrapping</h3>
<p>Before any node can start the process of downloading the blockchain, it needs to
discover suitable neighbours, which are part of the peer to peer network.
We consider two different ways to get this process bootstrapped:</p>
<ol>
<li>have a central service, that hands out an initial set of neighbours, e.g.
   via a DNS lookup</li>
<li>ship the node software with a set of initial neighbours</li>
</ol>
<p>Both options have advantages and disadvantages. Number one means that the set
of initial neighbours can be easily rotated without having to update any
configuration files but it depends on fairly centralised infrastructure.
Option two does not rely on DNS but requires updates to the node software
packages in order if the initial neighbour set needs to change.</p>
<p>We will choose one of the following strategies to acquire our initial
entrypoints for the network, in order of preference:</p>
<ol>
<li>consult local database of peers the node has talked to before and try to
   connect to them</li>
<li>connect to a list of known peers with DNS entries</li>
<li>rely on hard-coded nodes that come with the node package</li>
</ol>
<h3 id="neighbour-selection">Neighbour selection</h3>
<p>After a node has been bootstrapped, it should try to keep a fairly stable
neighbourhood and thus try to persist peers across restarts.</p>
<p>To describe the selection process, we need to come up with strategies for
neighbour replacement and a preference function used to pick a possible new
peer out of a set.</p>
<p>Choosing a selection strategy has a big impact on the overall health of the
network, since it influences the node degree, which in turn controls resilience
and message overhead.</p>
<p>There's rich literature analysing different strategies based on values intrinsic
to the peer to peer overlay network, e.g. peer age or behaviour metrics, or on
values of the underlying network, e.g. RTT or geographical location.</p>
<p>Replacement strategies based on age can be put into two different categories:</p>
<ul>
<li><em>active</em>:</li>
<li><em>passive</em>:</li>
</ul>
<p>A number of different selection strategies have been discussed in the literature
but in order to choose the right one we need to first come up with requirements.</p>
<h3 id="routing">Routing</h3>
<p>In the Bitcoin and Ethereum networks, routing is of no concern, given that it is
generally impossible to say, who will produce the next block and as such a user
will just post a transaction to the network in the hopes of reaching all miners,
who can then pick it up.</p>
<p>Given our usage of the Bitcoin-NG[7] protocol, a routing layer might be of
interest for users, who have tight timing requirements, or just for the improved
user experience by a potential decrease in latency when a transaction can be
routed directly to the current round leader versus flooding the network.</p>
<p>The addition of routing will be addressed in future versions of this document.</p>
<h3 id="churn">Churn</h3>
<p>There are many studies observing and studying churn patterns in peer to peer
networks such as Gnutella or BitTorrent. While these are certainly valuable to
consider in this context, we can assume that the usage patterns differ quite a
lot, given that they are mostly used for sharing relatively small, self-
contained files.</p>
<p>Donet et al [8] did an early study of the bitcoin peer to peer network in 2013,
finding "872648 different IP addresses corresponding to machines running Bitcoin
nodes." but of which only a staggering 0.66% (5759) were still reachable after
their observation period of 37 days. <a href="https://bitnodes.earn.com/">bitnodes</a>
has been trying to keep track of the peer to peer network size, starting in May
2016 with around 6500 nodes.</p>
<h2 id="connection">Connection</h2>
<p>incoming/outgoing</p>
<p>whitelist/blacklist</p>
<h2 id="incentives">Incentives</h2>
<p>The incentives for nodes to share transactions and blocks with other nodes are
weak and there is a body of research suggesting that for Nakamoto style
consensus it might even be in a miners' interest to not share new blocks right
away. [1][2] These shortcomings also incentivise centralisation of mining power,
which is something we would like to avoid.</p>
<p>Another example could a mining pool, which wants to receive information about
new blocks and transactions as fast as possible and thus might forego thoroughly
checking blocks for validity to reduce latency. This is clearly not in the
interest of the network.</p>
<p>(<strong><em>TODO</em></strong>: Come up with something similar to/based on TorCoin, or at least
mention it and give outlook for how it might be integrated.)</p>
<h2 id="blocktransaction-synchronization">Block/Transaction Synchronization</h2>
<p>At startup (after discovering at least one other Peer) the node will
synchronize the chain, and the current list of unconfirmed transactions.</p>
<p>Synchronizing the chain is (potentially) a big task, and the node will utilize
all its connected peers to fetch blocks and transactions.</p>
<p>(<strong><em>TODO</em></strong>: Write a detailed description of the æternity node implementation.)</p>
<p>Synchronizing the unconfirmed transactions is a smaller task and the
node will pick one other peer and synchronize (only the missing) transactions
from this peer. The synchronization uses MP-trees - a more detailed description is
<a href="tx_pool_sync/">here</a>.</p>
<h2 id="blocktransaction-propagation">Block/Transaction Propagation</h2>
<ul>
<li>
<p>with bitcoin-ng always sending full blocks would be a giant waste</p>
</li>
<li>
<p>announce new tx/block to peers</p>
</li>
<li>peer asks for data if they don't have it</li>
<li>
<p>don't have to send full block with all tx</p>
</li>
<li>
<p>send header first</p>
</li>
<li>
<p>consider overhead for sending out single tx vs. batching</p>
</li>
</ul>
<h3 id="proof-of-work-puzzle">Proof of work puzzle</h3>
<p>Node operators have the option to require connecting peers to solve a proof of
work puzzle as a means of rate limiting. They should make use of this option if
they believe to be the target of an eclipse attack or a denial of service.</p>
<p>The solution to such a puzzle could either be generated offline or online both
of which have their merits.</p>
<p>Being able to generate the solution offline would give resource constrained
nodes the possibility to easily participate but would also allow an attacker to
generate many solutions before an attack.
An example for such an offline scheme might be to find a solution to
<code>Blake2b(CuckooCycle(Pubkey || Nonce)) &gt; DifficultyTarget</code>.
The peer would, upon connecting, present the nonce and the receiver of the
connection could then verify that the static key used for the noise
handshake concatenated with the nonce is indeed a valid solution.
(<strong><em>TODO</em></strong>: this might require a consensus value otherwise nodes wouldn't know
what to expect)</p>
<p>Juels and Brainard [6] were the first to introduce an interactive scheme
requiring the solution of a computational puzzle to combat denial of service attacks.</p>
<p>The first message a connecting node needs to sent after establishing the secure
session is send its proof of work puzzle solution.</p>
<ul>
<li>this could either be interactive<ol>
<li>initiator connects to node</li>
<li>responder sends challenge</li>
<li>initiator disconnects</li>
<li>initiator computes solution</li>
<li>initiator connects again and provides solution</li>
</ol>
</li>
</ul>
<p>Problems could arise if an overly difficult pow puzzle is required by most nodes
because it might prevent the majority of people from running nodes and hurt the
health of the network.</p>
<h3 id="reputation">Reputation</h3>
<p>The sync protocol uses a very simple reputation system for peers, which will
only be used to punish peers sending garbage or misbehaving. Reputation is local
to a node and not shared with anyone.
Once an offending node reaches some threshold, e.g. 0, the offended node MAY
terminate the connection and SHOULD reject any further connection attempts by
the offender for a while, e.g. 24 hours, if they choose to punish them.</p>
<p>Garbage in this content would be:</p>
<ul>
<li>invalid blocks</li>
<li>invalid transactions</li>
<li>...</li>
</ul>
<p>If the offender is motivated and willing to bring up more nodes, then the node
under attack MAY opt for connecting nodes be required to solve a proof-of-work puzzle reduce before they are accepted.</p>
<h2 id="configurables">Configurables</h2>
<ul>
<li>pow target</li>
<li>pow wait timeout</li>
<li>(listener interface, port)</li>
<li>connection timeout</li>
<li>
<h1 id="overall-connections">overall connections</h1>
</li>
<li>
<h1 id="incoming-connections">incoming connections</h1>
</li>
<li>gossip pool size</li>
<li>peers -&gt; (blacklist, whitelist)</li>
</ul>
<h2 id="threat-model">Threat Model</h2>
<p>Any threat model comes with a set of assumptions and attack vectors that are out
of scope.</p>
<p>The first assumption is, that our distributed ledger is a blockchain using Nakamoto style consensus with proof of work for leader election, with any
malicious miner not possessing more than 25% of the mining power of the network.
This guarantees the basic integrity of our ledger.
(<strong><em>TODO</em></strong>: Properly address selfish mining et al)</p>
<p>The protocol described here is not used to transmit any secrets, such as cryptographic keys controlling coins, but does make use of cryptographic keys
itself. For an adversary to get ahold of these means that they would be able to
initiate the protocol with a node using them. Given that the protocol is only
used to transmit public information and generating new keys is easy, this should
only be a minor inconvenience.
(<strong><em>TODO</em></strong>: This changes if we use them for authentication as well)</p>
<p>We do not consider any physical threats to nodes participating in the protocol,
under the above assumption and because it is generally considered to be a very
hard problem, trying to design protocols, which can deal with compromised endpoints[4]. Usage of secure enclaves and other special purpose hardware can be
considered for mitigation but will not be discussed here.</p>
<p>That is, we operate under the "Internet Threat Model" as outlined in Section 3
of RFC3552[4]:</p>
<blockquote>
<p>In general, we assume that the end-systems engaging in a protocol
exchange have not themselves been compromised.  Protecting against an
attack when one of the end-systems has been compromised is
extraordinarily difficult.  It is, however, possible to design
protocols which minimize the extent of the damage done under these
circumstances.</p>
<p>By contrast, we assume that the attacker has nearly complete control
of the communications channel over which the end-systems communicate.
This means that the attacker can read any PDU (Protocol Data Unit) on
the network and undetectably remove, change, or inject forged packets
onto the wire.  This includes being able to generate packets that
appear to be from a trusted machine.  Thus, even if the end-system
with which you wish to communicate is itself secure, the Internet
environment provides no assurance that packets which claim to be from
that system in fact are.</p>
</blockquote>
<p>We restrict this model even further and exclude TCP and IP level (distributed)
denial of service attacks, e.g. SYN floods or any sort of amplification attacks.</p>
<h3 id="transport">Transport</h3>
<p>Transport messages are encrypted and authenticated using the Noise protocol. For
an in-depth discussion of the Noise protocol and its security guarantees, please
refer to the <a href="https://noiseprotocol.org/noise.html">documentation</a>, specifically
sections <a href="https://noiseprotocol.org/noise.html#handshake-patterns">7</a> and
<a href="https://noiseprotocol.org/noise.html#security-considerations">14</a>.
Using encryption and authentication covers man-in-the-middle attacks, eavesdropping,</p>
<p>A Denial of Service (DoS) attack can be mounted at different layers, e.g. at the protocol or the node level.
- slowing down block propagation
    - incr. risk of forks
    - makes selfish mining even more profitable
- resource exhaustion for single node by using up all connections/filling up
  RAM</p>
<p>Security:</p>
<ul>
<li>eclipse attack -&gt; accepting double spends</li>
</ul>
<p>Privacy:</p>
<ul>
<li>anyone in the same network can basically see everything you do without encryption</li>
</ul>
<p>Network level Distributed Denial of Service (DDoS) attacks, that try to take
nodes offline by saturating their connection to the internet, are out of scope,
although it could be argued that using mix networks hide the IP addresses of parties communicating and thus might mitigate one DDoS angle.</p>
<h3 id="resource-exhaustion">Resource exhaustion</h3>
<h3 id="eclipse-attacks">Eclipse Attacks</h3>
<p>Whenever an adversary manages to surround an honest node with adversarial nodes
then we speak of an eclipse attack.</p>
<p>In order to prevent malicious parties from flooding the network with requests
and potentially eclipse new nodes, we will require nodes to attach the
solution to a proof of work puzzle whenever they try to initiate a connection
to another node. This solution</p>
<h3 id="privacy">Privacy</h3>
<h2 id="references">References</h2>
<p>[1]: Eyal, Ittay, and Emin Gün Sirer. "Majority is not enough: Bitcoin mining is vulnerable." International conference on financial cryptography and data security. Springer, Berlin, Heidelberg, 2014.</p>
<p>[2]: Nayak, Kartik, et al. "Stubborn mining: Generalizing selfish mining and combining with an eclipse attack." Security and Privacy (EuroS&amp;P), 2016 IEEE European Symposium on. IEEE, 2016.</p>
<p>[3]: Ghosh, Mainak, et al. A TorPath to TorCoin: proof-of-bandwidth altcoins for compensating relays. NAVAL RESEARCH LAB WASHINGTON DC, 2014.</p>
<p>[4]: Rescorla, E., and B. Korver. "RFC 3552: Guidelines for writing RFC text on security considerations." Internet Society Req. for Comm (2003).</p>
<p>[5]:</p>
<p>[6]: Juels, Ari, and John G. Brainard. "Client puzzles: A Cryptographic countermeasure against connection depletion attacks." NDSS. Vol. 99. 1999.</p>
<p>[7]: Eyal, Ittay, et al. "Bitcoin-NG: A Scalable Blockchain Protocol." NSDI. 2016.</p>
<p>[8]: Donet, Joan Antoni Donet, Cristina Pérez-Sola, and Jordi Herrera-Joancomartí. "The bitcoin P2P network." International Conference on Financial Cryptography and Data Security. Springer, Berlin, Heidelberg, 2014.</p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.tabs.link", "search.highlight", "search.share", "search.suggest"], "search": "../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.a00a7c5e.min.js"></script>
      
    
  </body>
</html>